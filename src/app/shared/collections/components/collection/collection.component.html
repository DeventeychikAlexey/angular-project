<mat-card class="collection">
  <mat-card-header>
    <mat-card-title>{{ collection.name }}</mat-card-title>

    <mat-card-subtitle>{{ collection.topic.name }}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content class="collection-content">
    <img
      [routerLink]="'/collection/' + this.collection.id"
      class="img"
      mat-card-image
      [alt]="'collection-' + collection.id + '-image'"
      [src]="imageSrc"
      [class.contain]="isImageLoading"
    />

    <p>
      {{ collection.description }}
    </p>
  </mat-card-content>

  <mat-card-actions class="buttons">
    <button
      mat-button
      [routerLink]="'/collection/' + this.collection.id"
      color="primary"
    >
      View
    </button>

    <button
      mat-button
      [routerLink]="'/user/' + this.collection.id_user"
      color="primary"
    >
      Owner
    </button>

    <button
      *ngIf="collection.isChangeable"
      mat-button
      color="accent"
      [routerLink]="'/collection/' + this.collection.id + '/edit'"
    >
      Change
    </button>

    <button
      *ngIf="collection.isRemovable"
      (click)="dialogService.openDialog(this.dialogComponent)"
      mat-button
      color="warn"
    >
      Remove
    </button>
  </mat-card-actions>
</mat-card>

<ng-template #dialog>
  <app-dialog
    title="Confirm removing"
    text="Are you sure?"
    [actions]="actions"
  ></app-dialog>
</ng-template>
